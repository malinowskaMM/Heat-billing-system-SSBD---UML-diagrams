@startuml
actor UżytkownikUwierzytelniony as U
participant Strona
participant FormularzEdycjiDanych
control AccountService
entity PersonalData

U -> Strona: Naciśnij przycisk "Edytuj dane osobowe"
Strona -> FormularzEdycjiDanych: Załaduj formularz edycji danych
FormularzEdycjiDanych -> AccountService: Załaduj dane do formularz edycji danych
  activate AccountService
AccountService --> FormularzEdycjiDanych: Załadowano dane do formularza edycji danych
U -> FormularzEdycjiDanych: Wprowadź edytowane dane (imie/nazwisko)
FormularzEdycjiDanych -> AccountService: <<transaction>> Zmień dane osobowe użytkownika

  note right: RW, READ COMMITTED, zakres: wykonanie zapytania do bazy danych,\n edycja rekordu tabeli personal_data

  alt format wprowadzonych danych jest niepoprawny
  AccountService --> FormularzEdycjiDanych: Format wprowadzonych danych jest niepoprawny
  FormularzEdycjiDanych --> Strona: Pokaż ostrzeżenie o niepoparwnym formacie wwprowadzonych danych
  else format wprowadzonych danych jest poprawny
  AccountService -> PersonalData: Zmień obiekt PersonalData
  activate PersonalData
  AccountService --> Strona: Dane osobowe zostały zaktualizowane

  
  end

@enduml