  @startuml
    actor UżytkownikUwierzytelniony as U
    participant Strona
    participant StronaUżytkownika
    participant FormularzEdycjiDanych
    control AccountService
    entity PersonalData

  U -> Strona: Naciśnij przycisk "Wyświetl listę użytkowników"
  Strona -> AccountService: Wczytaj listę kont użytkowników
  AccountService --> Strona: Wczytano listę kont użytkowników
  U -> Strona: Wybierz konto użytkownika
  Strona -> StronaUżytkownika: Wczytaj szczegóły konta użytkownika
  StronaUżytkownika -> AccountService: Wczytaj szczegóły konta użytkownika
  AccountService --> StronaUżytkownika: Wczytano szczegóły konta użytkownika
  U -> StronaUżytkownika: Naciśnij przycisk "Edytuj dane osobowe użytkownika"
  StronaUżytkownika -> FormularzEdycjiDanych: Załaduj formularz edycji danych
  group << transaction>> RW, READ COMMITTED, zakres: \n- wykonanie zapytania do bazy danych,\n- edycja rekordu w tabeli personal_data
  FormularzEdycjiDanych -> AccountService: Załaduj dane do formularz edycji danych
    activate AccountService
    AccountService -> PersonalData: Pobierz dane do formularz edycji danych
    activate PersonalData
    PersonalData --> AccountService: Pobrano dane do formularz edycji danych
  AccountService --> FormularzEdycjiDanych: Załadowano dane do formularza edycji danych
  U -> FormularzEdycjiDanych: Wprowadź edytowane dane (imię/nazwisko)
  FormularzEdycjiDanych -> AccountService: Zmień dane osobowe użytkownika
    alt format wprowadzonych danych jest niepoprawny
    AccountService --> FormularzEdycjiDanych: Format wprowadzonych danych jest niepoprawny
    FormularzEdycjiDanych --> StronaUżytkownika: Pokaż ostrzeżenie o niepoprawnym formacie wwprowadzonych danych
    else format wprowadzonych danych jest poprawny
    AccountService -> PersonalData: Zmień pola firstName i sureName obiektu PersonalData
    AccountService --> StronaUżytkownika: Dane osobowe zostały zaktualizowane
    end
    
    end
    
    @enduml